# Тестовое задание на позицию Middle C# Developer (koshelek.ru)
**Вакансия на hh.ru: https://nn.hh.ru/vacancy/99058668**

**Моё резюме: https://nn.hh.ru/resume/cfe2d23dff0d3ed8240039ed1f5a5043546134**

#
## Запуск

### API
В директории проекта:
```bash
dotnet publish api/api.csproj -o dist
docker build .
docker compose up
```

### Клиентов
1. Клиент отправки сообщений (<папка проекта>/sender):
```bash
dotnet run
```

2. Клиент, получающий сообщения (<папка проекта>/receiver):
```bash
dotnet run
```

3. Клиент для просмотра сообщений за последнее время (<папка проекта>/historyView):
```bash
dotnet run
```

#
## Нюансы разработки
**API** обслуживает 3 end-point'a: /api/send, /api/last-minutes и /api/subscribe

End-point /api/subscribe служит для того, чтобы сервер мог 
получить номер порта, который будет прослушиваться клиентом, для отправки туда 
информации о добавлении нового сообщения в БД. Также сервер при корректном обращении 
по end-point'у /api/send сообщает клиенту по адрессу *host.docker.internal:port*
(по умолчанию клиент использует 8080 порт), 
что ему нужно запросить актуальный список последних сообщений. Такой адресс клиента 
получается из-за работы сервера внутри docker-контейнера и отсутствия у него доступа ко 
всему диапазону локальных ip-адрессов.